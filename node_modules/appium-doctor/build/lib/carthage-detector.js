"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _appiumSupport = require("appium-support");

var _teen_process = require("teen_process");

var _logger = _interopRequireDefault(require("./logger"));

class CarthageDetector {
  static detect() {
    return (0, _asyncToGenerator2.default)(function* () {
      let stdout;

      try {
        stdout = (yield (0, _teen_process.exec)('which', ['carthage'])).stdout;
        let carthagePath = stdout.replace("\n", "");

        if (yield _appiumSupport.fs.exists(carthagePath)) {
          _logger.default.debug(`Carthage was found at: ${carthagePath}`);

          return carthagePath;
        }
      } catch (ign) {}

      _logger.default.debug('Carthage was NOT found!');

      return null;
    })();
  }

}

var _default = CarthageDetector;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jYXJ0aGFnZS1kZXRlY3Rvci5qcyJdLCJuYW1lcyI6WyJDYXJ0aGFnZURldGVjdG9yIiwiZGV0ZWN0Iiwic3Rkb3V0IiwiY2FydGhhZ2VQYXRoIiwicmVwbGFjZSIsImZzIiwiZXhpc3RzIiwibG9nIiwiZGVidWciLCJpZ24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUEsTUFBTUEsZ0JBQU4sQ0FBdUI7QUFDckIsU0FBYUMsTUFBYixHQUF1QjtBQUFBO0FBQ3JCLFVBQUlDLE1BQUo7O0FBQ0EsVUFBSTtBQUNGQSxRQUFBQSxNQUFNLEdBQUcsT0FBTyx3QkFBSyxPQUFMLEVBQWMsQ0FBQyxVQUFELENBQWQsQ0FBUCxFQUFvQ0EsTUFBN0M7QUFDQSxZQUFJQyxZQUFZLEdBQUdELE1BQU0sQ0FBQ0UsT0FBUCxDQUFlLElBQWYsRUFBcUIsRUFBckIsQ0FBbkI7O0FBQ0Esa0JBQVVDLGtCQUFHQyxNQUFILENBQVVILFlBQVYsQ0FBVixFQUFtQztBQUNqQ0ksMEJBQUlDLEtBQUosQ0FBVywwQkFBeUJMLFlBQWEsRUFBakQ7O0FBQ0EsaUJBQU9BLFlBQVA7QUFDRDtBQUNGLE9BUEQsQ0FPRSxPQUFPTSxHQUFQLEVBQVksQ0FBRTs7QUFFaEJGLHNCQUFJQyxLQUFKLENBQVUseUJBQVY7O0FBQ0EsYUFBTyxJQUFQO0FBWnFCO0FBYXRCOztBQWRvQjs7ZUFpQlJSLGdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnMgfSBmcm9tICdhcHBpdW0tc3VwcG9ydCc7XG5pbXBvcnQgeyBleGVjIH0gZnJvbSAndGVlbl9wcm9jZXNzJztcbmltcG9ydCBsb2cgZnJvbSAnLi9sb2dnZXInO1xuXG5jbGFzcyBDYXJ0aGFnZURldGVjdG9yIHtcbiAgc3RhdGljIGFzeW5jIGRldGVjdCAoKSB7XG4gICAgbGV0IHN0ZG91dDtcbiAgICB0cnkge1xuICAgICAgc3Rkb3V0ID0gKGF3YWl0IGV4ZWMoJ3doaWNoJywgWydjYXJ0aGFnZSddKSkuc3Rkb3V0O1xuICAgICAgbGV0IGNhcnRoYWdlUGF0aCA9IHN0ZG91dC5yZXBsYWNlKFwiXFxuXCIsIFwiXCIpO1xuICAgICAgaWYgKGF3YWl0IGZzLmV4aXN0cyhjYXJ0aGFnZVBhdGgpKSB7XG4gICAgICAgIGxvZy5kZWJ1ZyhgQ2FydGhhZ2Ugd2FzIGZvdW5kIGF0OiAke2NhcnRoYWdlUGF0aH1gKTtcbiAgICAgICAgcmV0dXJuIGNhcnRoYWdlUGF0aDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChpZ24pIHt9XG5cbiAgICBsb2cuZGVidWcoJ0NhcnRoYWdlIHdhcyBOT1QgZm91bmQhJyk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FydGhhZ2VEZXRlY3RvcjtcbiJdLCJmaWxlIjoibGliL2NhcnRoYWdlLWRldGVjdG9yLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uIn0=
