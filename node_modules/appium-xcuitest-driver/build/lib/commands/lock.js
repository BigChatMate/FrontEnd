"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.commands = void 0;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _bluebird = _interopRequireDefault(require("bluebird"));

let commands = {};
exports.commands = commands;

commands.lock = function () {
  var _ref = (0, _asyncToGenerator2.default)(function* (seconds) {
    yield this.proxyCommand('/wda/lock', 'POST');

    if (isNaN(seconds)) {
      return;
    }

    const floatSeconds = parseFloat(seconds);

    if (floatSeconds <= 0) {
      return;
    }

    yield _bluebird.default.delay(floatSeconds * 1000);
    yield this.proxyCommand('/wda/unlock', 'POST');
  });

  return function (_x) {
    return _ref.apply(this, arguments);
  };
}();

commands.unlock = (0, _asyncToGenerator2.default)(function* () {
  yield this.proxyCommand('/wda/unlock', 'POST');
});
commands.isLocked = (0, _asyncToGenerator2.default)(function* () {
  return yield this.proxyCommand('/wda/locked', 'GET');
});
var _default = commands;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9sb2NrLmpzIl0sIm5hbWVzIjpbImNvbW1hbmRzIiwibG9jayIsInNlY29uZHMiLCJwcm94eUNvbW1hbmQiLCJpc05hTiIsImZsb2F0U2Vjb25kcyIsInBhcnNlRmxvYXQiLCJCIiwiZGVsYXkiLCJ1bmxvY2siLCJpc0xvY2tlZCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQTs7QUFFQSxJQUFJQSxRQUFRLEdBQUcsRUFBZjs7O0FBRUFBLFFBQVEsQ0FBQ0MsSUFBVDtBQUFBLDZDQUFnQixXQUFnQkMsT0FBaEIsRUFBeUI7QUFDdkMsVUFBTSxLQUFLQyxZQUFMLENBQWtCLFdBQWxCLEVBQStCLE1BQS9CLENBQU47O0FBQ0EsUUFBSUMsS0FBSyxDQUFDRixPQUFELENBQVQsRUFBb0I7QUFDbEI7QUFDRDs7QUFFRCxVQUFNRyxZQUFZLEdBQUdDLFVBQVUsQ0FBQ0osT0FBRCxDQUEvQjs7QUFDQSxRQUFJRyxZQUFZLElBQUksQ0FBcEIsRUFBdUI7QUFDckI7QUFDRDs7QUFFRCxVQUFNRSxrQkFBRUMsS0FBRixDQUFRSCxZQUFZLEdBQUcsSUFBdkIsQ0FBTjtBQUNBLFVBQU0sS0FBS0YsWUFBTCxDQUFrQixhQUFsQixFQUFpQyxNQUFqQyxDQUFOO0FBQ0QsR0FiRDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFlQUgsUUFBUSxDQUFDUyxNQUFULG1DQUFrQixhQUFrQjtBQUNsQyxRQUFNLEtBQUtOLFlBQUwsQ0FBa0IsYUFBbEIsRUFBaUMsTUFBakMsQ0FBTjtBQUNELENBRkQ7QUFJQUgsUUFBUSxDQUFDVSxRQUFULG1DQUFvQixhQUFrQjtBQUNwQyxlQUFhLEtBQUtQLFlBQUwsQ0FBa0IsYUFBbEIsRUFBaUMsS0FBakMsQ0FBYjtBQUNELENBRkQ7ZUFLZUgsUSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBCIGZyb20gJ2JsdWViaXJkJztcblxubGV0IGNvbW1hbmRzID0ge307XG5cbmNvbW1hbmRzLmxvY2sgPSBhc3luYyBmdW5jdGlvbiAoc2Vjb25kcykge1xuICBhd2FpdCB0aGlzLnByb3h5Q29tbWFuZCgnL3dkYS9sb2NrJywgJ1BPU1QnKTtcbiAgaWYgKGlzTmFOKHNlY29uZHMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgZmxvYXRTZWNvbmRzID0gcGFyc2VGbG9hdChzZWNvbmRzKTtcbiAgaWYgKGZsb2F0U2Vjb25kcyA8PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgYXdhaXQgQi5kZWxheShmbG9hdFNlY29uZHMgKiAxMDAwKTtcbiAgYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoJy93ZGEvdW5sb2NrJywgJ1BPU1QnKTtcbn07XG5cbmNvbW1hbmRzLnVubG9jayA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoJy93ZGEvdW5sb2NrJywgJ1BPU1QnKTtcbn07XG5cbmNvbW1hbmRzLmlzTG9ja2VkID0gYXN5bmMgZnVuY3Rpb24gKCkge1xuICByZXR1cm4gYXdhaXQgdGhpcy5wcm94eUNvbW1hbmQoJy93ZGEvbG9ja2VkJywgJ0dFVCcpO1xufTtcblxuZXhwb3J0IHsgY29tbWFuZHMgfTtcbmV4cG9ydCBkZWZhdWx0IGNvbW1hbmRzO1xuIl0sImZpbGUiOiJsaWIvY29tbWFuZHMvbG9jay5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLiJ9
