"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _appiumIosDriver = require("appium-ios-driver");

var _appiumRemoteDebugger = require("appium-remote-debugger");

var _appiumSupport = require("appium-support");

let extensions = {};
Object.assign(extensions, _appiumIosDriver.iosCommands.context);
extensions.closeAlertBeforeTest = (0, _asyncToGenerator2.default)(function* () {
  return true;
});
extensions._setContext = extensions.setContext;

extensions.setContext = function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* (name, callback, skipReadyCheck) {
    yield this._setContext(name, callback, skipReadyCheck);

    if (name && name !== _appiumIosDriver.NATIVE_WIN && this.logs) {
      if (this.logs.safariConsole) {
        yield this.remote.startConsole(this.logs.safariConsole.addLogLine.bind(this.logs.safariConsole));
      }

      if (this.logs.safariNetwork) {
        yield this.remote.startNetwork(this.logs.safariNetwork.addLogLine.bind(this.logs.safariNetwork));
      }
    }
  });

  return function (_x, _x2, _x3) {
    return _ref2.apply(this, arguments);
  };
}();

extensions._getLatestWebviewContextForTitle = extensions.getLatestWebviewContextForTitle;

extensions.getLatestWebviewContextForTitle = function () {
  var _ref3 = (0, _asyncToGenerator2.default)(function* (regExp) {
    let currentUrl = this.getCurrentUrl();

    if (!currentUrl) {
      return yield this._getLatestWebviewContextForTitle(regExp);
    }

    let contexts = yield this.getContextsAndViews();
    let matchingCtx;
    var _iteratorNormalCompletion = true;
    var _didIteratorError = false;
    var _iteratorError = undefined;

    try {
      for (var _iterator = contexts[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
        let ctx = _step.value;

        if (ctx.view) {
          let url = ctx.view.url || '';

          if (url === this.getCurrentUrl()) {
            matchingCtx = ctx;
            break;
          }
        }
      }
    } catch (err) {
      _didIteratorError = true;
      _iteratorError = err;
    } finally {
      try {
        if (!_iteratorNormalCompletion && _iterator.return != null) {
          _iterator.return();
        }
      } finally {
        if (_didIteratorError) {
          throw _iteratorError;
        }
      }
    }

    if (matchingCtx) {
      return matchingCtx.id;
    }

    return yield this._getLatestWebviewContextForTitle(regExp);
  });

  return function (_x4) {
    return _ref3.apply(this, arguments);
  };
}();

extensions.isWebContext = function () {
  return !!this.curContext && this.curContext !== _appiumIosDriver.iosCommands.context.NATIVE_WIN;
};

extensions.isWebview = function () {
  return this.isWebContext();
};

extensions.getNewRemoteDebugger = (0, _asyncToGenerator2.default)(function* () {
  const socketPath = yield this.opts.device.getWebInspectorSocket();
  return new _appiumRemoteDebugger.RemoteDebugger({
    bundleId: this.opts.bundleId,
    useNewSafari: this.useNewSafari(),
    pageLoadMs: this.pageLoadMs,
    platformVersion: this.opts.platformVersion,
    socketPath,
    remoteDebugProxy: this.opts.remoteDebugProxy,
    garbageCollectOnExecute: _appiumSupport.util.hasValue(this.opts.safariGarbageCollect) ? !!this.opts.safariGarbageCollect : true
  });
});
extensions.mobileGetContexts = (0, _asyncToGenerator2.default)(function* () {
  const curOpt = this.opts.fullContextList;

  try {
    this.opts.fullContextList = true;
    return yield this.getContexts();
  } finally {
    this.opts.fullContextList = curOpt;
  }
});
var _default = extensions;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9jb250ZXh0LmpzIl0sIm5hbWVzIjpbImV4dGVuc2lvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJpb3NDb21tYW5kcyIsImNvbnRleHQiLCJjbG9zZUFsZXJ0QmVmb3JlVGVzdCIsIl9zZXRDb250ZXh0Iiwic2V0Q29udGV4dCIsIm5hbWUiLCJjYWxsYmFjayIsInNraXBSZWFkeUNoZWNrIiwiTkFUSVZFX1dJTiIsImxvZ3MiLCJzYWZhcmlDb25zb2xlIiwicmVtb3RlIiwic3RhcnRDb25zb2xlIiwiYWRkTG9nTGluZSIsImJpbmQiLCJzYWZhcmlOZXR3b3JrIiwic3RhcnROZXR3b3JrIiwiX2dldExhdGVzdFdlYnZpZXdDb250ZXh0Rm9yVGl0bGUiLCJnZXRMYXRlc3RXZWJ2aWV3Q29udGV4dEZvclRpdGxlIiwicmVnRXhwIiwiY3VycmVudFVybCIsImdldEN1cnJlbnRVcmwiLCJjb250ZXh0cyIsImdldENvbnRleHRzQW5kVmlld3MiLCJtYXRjaGluZ0N0eCIsImN0eCIsInZpZXciLCJ1cmwiLCJpZCIsImlzV2ViQ29udGV4dCIsImN1ckNvbnRleHQiLCJpc1dlYnZpZXciLCJnZXROZXdSZW1vdGVEZWJ1Z2dlciIsInNvY2tldFBhdGgiLCJvcHRzIiwiZGV2aWNlIiwiZ2V0V2ViSW5zcGVjdG9yU29ja2V0IiwiUmVtb3RlRGVidWdnZXIiLCJidW5kbGVJZCIsInVzZU5ld1NhZmFyaSIsInBhZ2VMb2FkTXMiLCJwbGF0Zm9ybVZlcnNpb24iLCJyZW1vdGVEZWJ1Z1Byb3h5IiwiZ2FyYmFnZUNvbGxlY3RPbkV4ZWN1dGUiLCJ1dGlsIiwiaGFzVmFsdWUiLCJzYWZhcmlHYXJiYWdlQ29sbGVjdCIsIm1vYmlsZUdldENvbnRleHRzIiwiY3VyT3B0IiwiZnVsbENvbnRleHRMaXN0IiwiZ2V0Q29udGV4dHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7O0FBRUEsSUFBSUEsVUFBVSxHQUFHLEVBQWpCO0FBRUFD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QUlDLG9DQUFKLENBQW1CO0FBQ3hCQyxJQUFBQSxRQUFRLEVBQUUsS0FBS0osSUFBTCxDQUFVSSxRQURJO0FBRXhCQyxJQUFBQSxZQUFZLEVBQUUsS0FBS0EsWUFBTCxFQUZVO0FBR3hCQyxJQUFBQSxVQUFVLEVBQUUsS0FBS0EsVUFITztBQUl4QkMsSUFBQUEsZUFBZSxFQUFFLEtBQUtQLElBQUwsQ0FBVU8sZUFKSDtBQUt4QlIsSUFBQUEsVUFMd0I7QUFNeEJTLElBQUFBLGdCQUFnQixFQUFFLEtBQUtSLElBQUwsQ0FBVVEsZ0JBTko7QUFPeEJDLElBQUFBLHVCQUF1QixFQUFFQyxvQkFBS0MsUUFBTCxDQUFjLEtBQUtYLElBQUwsQ0FBVVksb0JBQXhCLElBQ3JCLENBQUMsQ0FBQyxLQUFLWixJQUFMLENBQVVZLG9CQURTLEdBRXJCO0FBVG9CLEdBQW5CLENBQVA7QUFXRCxDQWJEO0FBOEJBakQsVUFBVSxDQUFDa0QsaUJBQVgsbUNBQStCLGFBQWtCO0FBQy9DLFFBQU1DLE1BQU0sR0FBRyxLQUFLZCxJQUFMLENBQVVlLGVBQXpCOztBQUNBLE1BQUk7QUFHRixTQUFLZixJQUFMLENBQVVlLGVBQVYsR0FBNEIsSUFBNUI7QUFDQSxpQkFBYSxLQUFLQyxXQUFMLEVBQWI7QUFDRCxHQUxELFNBS1U7QUFFUixTQUFLaEIsSUFBTCxDQUFVZSxlQUFWLEdBQTRCRCxNQUE1QjtBQUNEO0FBQ0YsQ0FYRDtlQWNlbkQsVSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlvc0NvbW1hbmRzLCBOQVRJVkVfV0lOIH0gZnJvbSAnYXBwaXVtLWlvcy1kcml2ZXInO1xuaW1wb3J0IHsgUmVtb3RlRGVidWdnZXIgfSBmcm9tICdhcHBpdW0tcmVtb3RlLWRlYnVnZ2VyJztcbmltcG9ydCB7IHV0aWwgfSBmcm9tICdhcHBpdW0tc3VwcG9ydCc7XG5cbmxldCBleHRlbnNpb25zID0ge307XG5cbk9iamVjdC5hc3NpZ24oZXh0ZW5zaW9ucywgaW9zQ29tbWFuZHMuY29udGV4dCk7XG5cbi8vIG92ZXJyaWRlLCBhcyBhcHBpdW0taW9zLWRyaXZlcidzIHZlcnNpb24gdXNlcyBVSSBBdXRvbWF0aW9uIHRvIGNsb3NlXG5leHRlbnNpb25zLmNsb3NlQWxlcnRCZWZvcmVUZXN0ID0gYXN5bmMgZnVuY3Rpb24gKCkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIHJlcXVpcmUtYXdhaXRcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHRlbnNpb25zLl9zZXRDb250ZXh0ID0gZXh0ZW5zaW9ucy5zZXRDb250ZXh0O1xuZXh0ZW5zaW9ucy5zZXRDb250ZXh0ID0gYXN5bmMgZnVuY3Rpb24gKG5hbWUsIGNhbGxiYWNrLCBza2lwUmVhZHlDaGVjaykge1xuICBhd2FpdCB0aGlzLl9zZXRDb250ZXh0KG5hbWUsIGNhbGxiYWNrLCBza2lwUmVhZHlDaGVjayk7XG5cbiAgLy8gc3RhcnQgc2FmYXJpIGxvZ2dpbmcgaWYgdGhlIGxvZ3MgaGFuZGxlcnMgYXJlIGFjdGl2ZVxuICBpZiAobmFtZSAmJiBuYW1lICE9PSBOQVRJVkVfV0lOICYmIHRoaXMubG9ncykge1xuICAgIGlmICh0aGlzLmxvZ3Muc2FmYXJpQ29uc29sZSkge1xuICAgICAgYXdhaXQgdGhpcy5yZW1vdGUuc3RhcnRDb25zb2xlKHRoaXMubG9ncy5zYWZhcmlDb25zb2xlLmFkZExvZ0xpbmUuYmluZCh0aGlzLmxvZ3Muc2FmYXJpQ29uc29sZSkpO1xuICAgIH1cbiAgICBpZiAodGhpcy5sb2dzLnNhZmFyaU5ldHdvcmspIHtcbiAgICAgIGF3YWl0IHRoaXMucmVtb3RlLnN0YXJ0TmV0d29yayh0aGlzLmxvZ3Muc2FmYXJpTmV0d29yay5hZGRMb2dMaW5lLmJpbmQodGhpcy5sb2dzLnNhZmFyaU5ldHdvcmspKTtcbiAgICB9XG4gIH1cbn07XG5cbi8vIHRoZSBhcHBpdW0taW9zLWRyaXZlciB2ZXJzaW9uIG9mIHRoaXMgZnVuY3Rpb24gZmFpbHMgaW4gQ0ksXG4vLyBhbmQgdGhlIHdyb25nIHdlYnZpZXcgaXMgYWxtb3N0IGFsd2F5cyByZXRyaWV2ZWRcbmV4dGVuc2lvbnMuX2dldExhdGVzdFdlYnZpZXdDb250ZXh0Rm9yVGl0bGUgPSBleHRlbnNpb25zLmdldExhdGVzdFdlYnZpZXdDb250ZXh0Rm9yVGl0bGU7XG5leHRlbnNpb25zLmdldExhdGVzdFdlYnZpZXdDb250ZXh0Rm9yVGl0bGUgPSBhc3luYyBmdW5jdGlvbiAocmVnRXhwKSB7XG4gIGxldCBjdXJyZW50VXJsID0gdGhpcy5nZXRDdXJyZW50VXJsKCk7XG4gIGlmICghY3VycmVudFVybCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLl9nZXRMYXRlc3RXZWJ2aWV3Q29udGV4dEZvclRpdGxlKHJlZ0V4cCk7XG4gIH1cblxuICBsZXQgY29udGV4dHMgPSBhd2FpdCB0aGlzLmdldENvbnRleHRzQW5kVmlld3MoKTtcbiAgbGV0IG1hdGNoaW5nQ3R4O1xuICBmb3IgKGxldCBjdHggb2YgY29udGV4dHMpIHtcbiAgICBpZiAoY3R4LnZpZXcpIHtcbiAgICAgIGxldCB1cmwgPSBjdHgudmlldy51cmwgfHwgJyc7XG4gICAgICBpZiAodXJsID09PSB0aGlzLmdldEN1cnJlbnRVcmwoKSkge1xuICAgICAgICBtYXRjaGluZ0N0eCA9IGN0eDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGlmIChtYXRjaGluZ0N0eCkge1xuICAgIHJldHVybiBtYXRjaGluZ0N0eC5pZDtcbiAgfVxuICByZXR1cm4gYXdhaXQgdGhpcy5fZ2V0TGF0ZXN0V2Vidmlld0NvbnRleHRGb3JUaXRsZShyZWdFeHApO1xufTtcblxuZXh0ZW5zaW9ucy5pc1dlYkNvbnRleHQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAhIXRoaXMuY3VyQ29udGV4dCAmJiB0aGlzLmN1ckNvbnRleHQgIT09IGlvc0NvbW1hbmRzLmNvbnRleHQuTkFUSVZFX1dJTjtcbn07XG5cbmV4dGVuc2lvbnMuaXNXZWJ2aWV3ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5pc1dlYkNvbnRleHQoKTtcbn07XG5cbmV4dGVuc2lvbnMuZ2V0TmV3UmVtb3RlRGVidWdnZXIgPSBhc3luYyBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNvY2tldFBhdGggPSBhd2FpdCB0aGlzLm9wdHMuZGV2aWNlLmdldFdlYkluc3BlY3RvclNvY2tldCgpO1xuICByZXR1cm4gbmV3IFJlbW90ZURlYnVnZ2VyKHtcbiAgICBidW5kbGVJZDogdGhpcy5vcHRzLmJ1bmRsZUlkLFxuICAgIHVzZU5ld1NhZmFyaTogdGhpcy51c2VOZXdTYWZhcmkoKSxcbiAgICBwYWdlTG9hZE1zOiB0aGlzLnBhZ2VMb2FkTXMsXG4gICAgcGxhdGZvcm1WZXJzaW9uOiB0aGlzLm9wdHMucGxhdGZvcm1WZXJzaW9uLFxuICAgIHNvY2tldFBhdGgsXG4gICAgcmVtb3RlRGVidWdQcm94eTogdGhpcy5vcHRzLnJlbW90ZURlYnVnUHJveHksXG4gICAgZ2FyYmFnZUNvbGxlY3RPbkV4ZWN1dGU6IHV0aWwuaGFzVmFsdWUodGhpcy5vcHRzLnNhZmFyaUdhcmJhZ2VDb2xsZWN0KVxuICAgICAgPyAhIXRoaXMub3B0cy5zYWZhcmlHYXJiYWdlQ29sbGVjdFxuICAgICAgOiB0cnVlLFxuICB9KTtcbn07XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ29udGV4dFxuICpcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBjb250ZXh0LiBUaGUgbmF0aXZlIGNvbnRleHRcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB3aWxsIGJlICdOQVRJVkVfQVBQJyBhbmQgdGhlIHdlYnZpZXdzIHdpbGwgYmVcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAnV0VCVklFV194eHgnXG4gKiBAcHJvcGVydHkgez9zdHJpbmd9IHRpdGxlIC0gVGhlIHRpdGxlIGFzc29jaWF0ZWQgd2l0aCB0aGUgd2VidmlldyBjb250ZW50XG4gKiBAcHJvcGVydHkgez9zdHJpbmd9IHVybCAtIFRoZSB1cmwgYXNzb2NpYXRlZCB3aXRoIHRoZSB3ZWJ2aWV3IGNvbnRlbnRcbiAqL1xuXG4vKipcbiAqIEdldCB0aGUgY29udGV4dHMgYXZhaWxhYmxlLCB3aXRoIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1cmwgYW5kIHRpdGxlIG9mIGVhY2hcbiAqIHdlYnZpZXdcbiAqIEByZXR1cm5zIHtBcnJheX0gTGlzdCBvZiBDb250ZXh0IG9iamVjdHNcbiAqL1xuZXh0ZW5zaW9ucy5tb2JpbGVHZXRDb250ZXh0cyA9IGFzeW5jIGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgY3VyT3B0ID0gdGhpcy5vcHRzLmZ1bGxDb250ZXh0TGlzdDtcbiAgdHJ5IHtcbiAgICAvLyBgYXBwaXVtLWlvcy1kcml2ZXIjZ2V0Q29udGV4dHNgIHJldHVybnMgdGhlIGZ1bGwgbGlzdCBvZiBjb250ZXh0c1xuICAgIC8vIGlmIHRoaXMgb3B0aW9uIGlzIG9uXG4gICAgdGhpcy5vcHRzLmZ1bGxDb250ZXh0TGlzdCA9IHRydWU7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZ2V0Q29udGV4dHMoKTtcbiAgfSBmaW5hbGx5IHtcbiAgICAvLyByZXNldCB0aGUgb3B0aW9uIHNvIHRoZXJlIGFyZSBubyBzaWRlIGVmZmVjdHNcbiAgICB0aGlzLm9wdHMuZnVsbENvbnRleHRMaXN0ID0gY3VyT3B0O1xuICB9XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IGV4dGVuc2lvbnM7XG4iXSwiZmlsZSI6ImxpYi9jb21tYW5kcy9jb250ZXh0LmpzIiwic291cmNlUm9vdCI6Ii4uLy4uLy4uIn0=
