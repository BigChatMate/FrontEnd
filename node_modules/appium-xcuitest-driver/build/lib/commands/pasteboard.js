"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = exports.commands = void 0;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _nodeSimctl = require("node-simctl");

let commands = {};
exports.commands = commands;

commands.mobileSetPasteboard = function () {
  var _ref = (0, _asyncToGenerator2.default)(function* (opts = {}) {
    if (!this.isSimulator()) {
      throw new Error('Setting pasteboard content is not supported on real devices');
    }

    const content = opts.content,
          encoding = opts.encoding;

    if (!content) {
      throw new Error('Pasteboard content is mandatory to set');
    }

    return yield (0, _nodeSimctl.setPasteboard)(this.opts.udid, content, encoding);
  });

  return function () {
    return _ref.apply(this, arguments);
  };
}();

commands.mobileGetPasteboard = function () {
  var _ref2 = (0, _asyncToGenerator2.default)(function* (opts = {}) {
    if (!this.isSimulator()) {
      throw new Error('Getting pasteboard content is not supported on real devices');
    }

    return yield (0, _nodeSimctl.getPasteboard)(this.opts.udid, opts.encoding);
  });

  return function () {
    return _ref2.apply(this, arguments);
  };
}();

var _default = commands;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9jb21tYW5kcy9wYXN0ZWJvYXJkLmpzIl0sIm5hbWVzIjpbImNvbW1hbmRzIiwibW9iaWxlU2V0UGFzdGVib2FyZCIsIm9wdHMiLCJpc1NpbXVsYXRvciIsIkVycm9yIiwiY29udGVudCIsImVuY29kaW5nIiwidWRpZCIsIm1vYmlsZUdldFBhc3RlYm9hcmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7O0FBRUEsSUFBSUEsUUFBUSxHQUFHLEVBQWY7OztBQUVBQSxRQUFRLENBQUNDLG1CQUFUO0FBQUEsNkNBQStCLFdBQWdCQyxJQUFJLEdBQUcsRUFBdkIsRUFBMkI7QUFDeEQsUUFBSSxDQUFDLEtBQUtDLFdBQUwsRUFBTCxFQUF5QjtBQUN2QixZQUFNLElBQUlDLEtBQUosQ0FBVSw2REFBVixDQUFOO0FBQ0Q7O0FBSHVELFVBSWpEQyxPQUppRCxHQUk1QkgsSUFKNEIsQ0FJakRHLE9BSmlEO0FBQUEsVUFJeENDLFFBSndDLEdBSTVCSixJQUo0QixDQUl4Q0ksUUFKd0M7O0FBS3hELFFBQUksQ0FBQ0QsT0FBTCxFQUFjO0FBQ1osWUFBTSxJQUFJRCxLQUFKLENBQVUsd0NBQVYsQ0FBTjtBQUNEOztBQUNELGlCQUFhLCtCQUFjLEtBQUtGLElBQUwsQ0FBVUssSUFBeEIsRUFBOEJGLE9BQTlCLEVBQXVDQyxRQUF2QyxDQUFiO0FBQ0QsR0FURDs7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFXQU4sUUFBUSxDQUFDUSxtQkFBVDtBQUFBLDhDQUErQixXQUFnQk4sSUFBSSxHQUFHLEVBQXZCLEVBQTJCO0FBQ3hELFFBQUksQ0FBQyxLQUFLQyxXQUFMLEVBQUwsRUFBeUI7QUFDdkIsWUFBTSxJQUFJQyxLQUFKLENBQVUsNkRBQVYsQ0FBTjtBQUNEOztBQUNELGlCQUFhLCtCQUFjLEtBQUtGLElBQUwsQ0FBVUssSUFBeEIsRUFBOEJMLElBQUksQ0FBQ0ksUUFBbkMsQ0FBYjtBQUNELEdBTEQ7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O2VBUWVOLFEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzZXRQYXN0ZWJvYXJkLCBnZXRQYXN0ZWJvYXJkIH0gZnJvbSAnbm9kZS1zaW1jdGwnO1xuXG5sZXQgY29tbWFuZHMgPSB7fTtcblxuY29tbWFuZHMubW9iaWxlU2V0UGFzdGVib2FyZCA9IGFzeW5jIGZ1bmN0aW9uIChvcHRzID0ge30pIHtcbiAgaWYgKCF0aGlzLmlzU2ltdWxhdG9yKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NldHRpbmcgcGFzdGVib2FyZCBjb250ZW50IGlzIG5vdCBzdXBwb3J0ZWQgb24gcmVhbCBkZXZpY2VzJyk7XG4gIH1cbiAgY29uc3Qge2NvbnRlbnQsIGVuY29kaW5nfSA9IG9wdHM7XG4gIGlmICghY29udGVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUGFzdGVib2FyZCBjb250ZW50IGlzIG1hbmRhdG9yeSB0byBzZXQnKTtcbiAgfVxuICByZXR1cm4gYXdhaXQgc2V0UGFzdGVib2FyZCh0aGlzLm9wdHMudWRpZCwgY29udGVudCwgZW5jb2RpbmcpO1xufTtcblxuY29tbWFuZHMubW9iaWxlR2V0UGFzdGVib2FyZCA9IGFzeW5jIGZ1bmN0aW9uIChvcHRzID0ge30pIHtcbiAgaWYgKCF0aGlzLmlzU2ltdWxhdG9yKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0dldHRpbmcgcGFzdGVib2FyZCBjb250ZW50IGlzIG5vdCBzdXBwb3J0ZWQgb24gcmVhbCBkZXZpY2VzJyk7XG4gIH1cbiAgcmV0dXJuIGF3YWl0IGdldFBhc3RlYm9hcmQodGhpcy5vcHRzLnVkaWQsIG9wdHMuZW5jb2RpbmcpO1xufTtcblxuZXhwb3J0IHsgY29tbWFuZHMgfTtcbmV4cG9ydCBkZWZhdWx0IGNvbW1hbmRzO1xuIl0sImZpbGUiOiJsaWIvY29tbWFuZHMvcGFzdGVib2FyZC5qcyIsInNvdXJjZVJvb3QiOiIuLi8uLi8uLiJ9
