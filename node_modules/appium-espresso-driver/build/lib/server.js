"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.startServer = startServer;
exports.default = void 0;

var _asyncToGenerator2 = _interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator"));

var _logger = _interopRequireDefault(require("./logger"));

var _appiumBaseDriver = require("appium-base-driver");

var _driver = _interopRequireDefault(require("./driver"));

function startServer(_x, _x2) {
  return _startServer.apply(this, arguments);
}

function _startServer() {
  _startServer = (0, _asyncToGenerator2.default)(function* (port, host) {
    let d = new _driver.default({
      port,
      host
    });
    let router = (0, _appiumBaseDriver.routeConfiguringFunction)(d);
    let server = (0, _appiumBaseDriver.server)(router, port, host);

    _logger.default.info(`Android Espresso Driver listening on http://${host}:${port}`);

    return yield server;
  });
  return _startServer.apply(this, arguments);
}

var _default = startServer;
exports.default = _default;require('source-map-support').install();


//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi9zZXJ2ZXIuanMiXSwibmFtZXMiOlsic3RhcnRTZXJ2ZXIiLCJwb3J0IiwiaG9zdCIsImQiLCJFc3ByZXNzb0RyaXZlciIsInJvdXRlciIsInNlcnZlciIsImxvZyIsImluZm8iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBOztBQUNBOztBQUNBOztTQUdlQSxXOzs7OztpREFBZixXQUE0QkMsSUFBNUIsRUFBa0NDLElBQWxDLEVBQXdDO0FBQ3RDLFFBQUlDLENBQUMsR0FBRyxJQUFJQyxlQUFKLENBQW1CO0FBQUNILE1BQUFBLElBQUQ7QUFBT0MsTUFBQUE7QUFBUCxLQUFuQixDQUFSO0FBQ0EsUUFBSUcsTUFBTSxHQUFHLGdEQUF5QkYsQ0FBekIsQ0FBYjtBQUNBLFFBQUlHLE1BQU0sR0FBRyw4QkFBV0QsTUFBWCxFQUFtQkosSUFBbkIsRUFBeUJDLElBQXpCLENBQWI7O0FBQ0FLLG9CQUFJQyxJQUFKLENBQVUsK0NBQThDTixJQUFLLElBQUdELElBQUssRUFBckU7O0FBQ0EsaUJBQWFLLE1BQWI7QUFDRCxHOzs7O2VBR2NOLFciLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbG9nIGZyb20gJy4vbG9nZ2VyJztcbmltcG9ydCB7IHNlcnZlciBhcyBiYXNlU2VydmVyLCByb3V0ZUNvbmZpZ3VyaW5nRnVuY3Rpb24gfSBmcm9tICdhcHBpdW0tYmFzZS1kcml2ZXInO1xuaW1wb3J0IEVzcHJlc3NvRHJpdmVyIGZyb20gJy4vZHJpdmVyJztcblxuXG5hc3luYyBmdW5jdGlvbiBzdGFydFNlcnZlciAocG9ydCwgaG9zdCkge1xuICBsZXQgZCA9IG5ldyBFc3ByZXNzb0RyaXZlcih7cG9ydCwgaG9zdH0pO1xuICBsZXQgcm91dGVyID0gcm91dGVDb25maWd1cmluZ0Z1bmN0aW9uKGQpO1xuICBsZXQgc2VydmVyID0gYmFzZVNlcnZlcihyb3V0ZXIsIHBvcnQsIGhvc3QpO1xuICBsb2cuaW5mbyhgQW5kcm9pZCBFc3ByZXNzbyBEcml2ZXIgbGlzdGVuaW5nIG9uIGh0dHA6Ly8ke2hvc3R9OiR7cG9ydH1gKTtcbiAgcmV0dXJuIGF3YWl0IHNlcnZlcjtcbn1cblxuZXhwb3J0IHsgc3RhcnRTZXJ2ZXIgfTtcbmV4cG9ydCBkZWZhdWx0IHN0YXJ0U2VydmVyO1xuIl0sImZpbGUiOiJsaWIvc2VydmVyLmpzIiwic291cmNlUm9vdCI6Ii4uLy4uIn0=
